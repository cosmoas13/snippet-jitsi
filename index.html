<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <div style="height: 100vh;" id="meetRoom">

    </div>
    <button id="createMeetingRoom">
        Create Room
    </button>
    <button id="shareScreenStart">
        Start Share Screen
    </button>
    <button id="shareScreenStop">
        Stop Share Screen
    </button>
</body>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="https://meet.jit.si/external_api.js"></script>
<script type="text/javascript">
    const btnStartConference = document.getElementById("createMeetingRoom");
    const btnStartScreen = document.getElementById("shareScreenStart");
    const btnStopScreen = document.getElementById("shareScreenStop");

    let api;
    var domain = "meet.jit.si";
    var options = {
        roomName: "JitsiMeetAPIExample",
        width: "100%",
        height: '100%',
        parentNode: document.querySelector("#meetRoom"),
        configOverwrite: {
            startWithAudioMuted: true,
            //possible to disable video and audi
            //share screen can active when the user trigger on click or submit
            startWithVideoMuted: true,
            prejoinPageEnabled: false
        },
        interfaceConfigOverwrite: {}
    }
    if (api) {
        api.dispose();
    }

    btnStartConference.onclick = () => {
        console.log("test");
        api = new JitsiMeetExternalAPI(domain, options);
    };

    btnStartScreen.onclick = () => {
        console.log("start share");
        api.executeCommand('toggleShareScreen');
    };

    btnStopScreen.onclick = () => {
        console.log("stop share");
        api.executeCommand('toggleShareScreen');
    }
    // $("#createMeetingRoom").click(function (e) {
    //     e.preventDefault();
    //     $.ajax({
    //         type: "POST",
    //         success: function (result) {
    //             api = new JitsiMeetExternalAPI(domain, options);
    //         },
    //         error: function (result) {
    //             alert('error');
    //         }
    //     });
    // })

    // $("#shareScreenStart").click(function (e) {
    //     e.preventDefault();
    //     $.ajax({
    //         type: "POST",
    //         success: function (result) {
    //             api.executeCommand('toggleShareScreen');
    //         },
    //         error: function (result) {
    //             alert('error');
    //         }
    //     });
    // })

    // $("#shareScreenStop").click(function (e) {
    //     e.preventDefault();
    //     console.log("test button room");
    // })
</script>

</html>